"use strict";document.addEventListener("DOMContentLoaded",(function(){Inputmask().mask(document.querySelectorAll("input"));var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}));var t=document.getElementById("hamburger-toggle"),c=document.querySelector(".mobile-menu"),o=document.querySelector(".mobile-menu__close"),s=document.querySelector(".overlay"),n=document.querySelectorAll(".nav__link--dropdown"),i=document.querySelector(".submenu"),a=document.querySelector(".submenu__back");t&&c&&t.addEventListener("click",(function(){t.classList.contains("hamburger--active")&&c.classList.contains("mobile-menu--open")?(W.classList.contains("modal-overlay--active")&&W.classList.remove("modal-overlay--active"),t.classList.remove("hamburger--active"),c.classList.remove("mobile-menu--open"),document.body.classList.remove("scroll-disabled")):(W.classList.contains("modal-overlay--active")||W.classList.add("modal-overlay--active"),t.classList.add("hamburger--active"),c.classList.add("mobile-menu--open"),document.body.classList.add("scroll-disabled"))})),o&&c&&o.addEventListener("click",(function(){t.classList.contains("hamburger--active")&&c.classList.contains("mobile-menu--open")&&(W.classList.contains("modal-overlay--active")&&W.classList.remove("modal-overlay--active"),t.classList.remove("hamburger--active"),c.classList.remove("mobile-menu--open"),document.body.classList.remove("scroll-disabled"))})),s&&s.addEventListener("click",(function(){l&&l.classList.contains("search--active")&&(l.classList.remove("search--active"),s.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled"))})),n&&n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var c=e.getAttribute("data-mobile-category");e.parentNode.parentNode.parentNode.style.display="none",i.classList.add("submenu--active"),document.querySelector('.submenu__list[data-mobile-subcategory="'+c+'"').classList.add("submenu__list--active")}))})),a&&a.addEventListener("click",(function(e){e.preventDefault(),i.previousElementSibling.style.display="block",i.classList.remove("submenu--active"),document.querySelectorAll(".submenu__list").forEach((function(e){return e.classList.remove("submenu__list--active")}))}));var r=document.querySelector(".search-btn"),l=document.querySelector(".search"),d=document.querySelector(".search__close"),u=document.querySelector(".top-promo");if(u&&l){var m=u.getBoundingClientRect().height,v=m-window.pageYOffset;window.pageYOffset<m?l.style.setProperty("top","".concat(v,"px")):l.style.setProperty("top","".concat(0,"px")),window.innerWidth<768&&(window.pageYOffset<m?l.style.setProperty("--vh","calc(100vh - ".concat(v,"px)")):l.style.setProperty("--vh","100vh"))}window.addEventListener("scroll",(function(){if(u&&l){var e=u.getBoundingClientRect().height,t=e-window.pageYOffset;window.pageYOffset<e?l.style.setProperty("top","".concat(t,"px")):l.style.setProperty("top","".concat(0,"px")),window.innerWidth<768&&(window.pageYOffset<e?l.style.setProperty("--vh","calc(100vh - ".concat(t,"px)")):l.style.setProperty("--vh","100vh"))}})),window.addEventListener("resize",(function(){if(u&&l){var e=u.getBoundingClientRect().height,t=e-window.pageYOffset;window.pageYOffset<e?l.style.setProperty("top","".concat(t,"px")):l.style.setProperty("top","".concat(0,"px")),window.innerWidth<768&&(window.pageYOffset<e?l.style.setProperty("--vh","calc(100vh - ".concat(t,"px)")):l.style.setProperty("--vh","100vh"))}})),r&&r.addEventListener("click",(function(e){e.preventDefault(),l.classList.contains("search--active")?(l.classList.remove("search--active"),s.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled")):(l.classList.add("search--active"),s.classList.add("overlay--active"),document.body.classList.add("scroll-disabled"))})),d&&d.addEventListener("click",(function(){l.classList.contains("search--active")&&(l.classList.remove("search--active"),s.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled"))}));var _=document.querySelector(".basket-btn"),y=document.querySelector(".basket-modal"),p=document.querySelector(".basket-modal__close");_&&_.addEventListener("click",(function(e){e.preventDefault(),y.classList.contains("basket-modal--active")?(y.classList.remove("basket-modal--active"),s.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled")):(y.classList.add("basket-modal--active"),W.classList.add("modal-overlay--active"),document.body.classList.add("scroll-disabled"))})),p&&p.addEventListener("click",(function(){y.classList.contains("basket-modal--active")&&(y.classList.remove("basket-modal--active"),W.classList.remove("modal-overlay--active"),document.body.classList.remove("scroll-disabled"))}));var f=document.querySelector(".top-promo"),L=document.querySelector(".top-promo__close");L&&L.addEventListener("click",(function(){if(f.classList.add("top-promo--hidden"),u&&l){var e=u.getBoundingClientRect().height,t=e-window.pageYOffset;window.pageYOffset<e?l.style.setProperty("top","".concat(t,"px")):l.style.setProperty("top","".concat(0,"px")),window.innerWidth<768&&(window.pageYOffset<e?l.style.setProperty("--vh","calc(100vh - ".concat(t,"px)")):l.style.setProperty("--vh","100vh"))}}));var b=document.querySelector(".gallery-thumbs"),h=document.querySelector(".gallery-main"),S=new Swiper(b,{allowTouchMove:!1,slidesPerView:5,spaceBetween:5,freeMode:!0,direction:"vertical",watchSlidesVisibility:!0,watchSlidesProgress:!0});new Swiper(h,{slidesPerView:1,spaceBetween:10,loop:!0,loopedSlides:5,preloadImages:!1,lazy:!0,thumbs:{swiper:S},breakpoints:{0:{pagination:{el:".swiper-pagination",clickable:!0}},768:{pagination:{el:!1,clickable:!1}}}});document.querySelectorAll(".goods__swiper").forEach((function(e){new Swiper(e.querySelector(".swiper-container"),{slidesPerView:4,loop:!0,preloadImages:!1,lazy:!0,observer:!0,observeParents:!0,breakpoints:{0:{slidesPerView:2},576:{slidesPerView:3},992:{slidesPerView:4}}})})),document.querySelectorAll(".product__trigger:not(.product__trigger--static)").forEach((function(e){e.addEventListener("click",(function(){e.parentNode.classList.toggle("product__inner--hidden")}))})),document.querySelectorAll(".footer__heading").forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".footer__list").forEach((function(e){return e.classList.remove("footer__list--open")})),e.parentNode.classList.toggle("footer__list--open")}))})),document.querySelectorAll(".filter__item:not(.filter__item--plus) .filter__btn").forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".filter__item:not(.filter__item--plus)").forEach((function(e){return e.classList.remove("filter__item--active")})),e.parentNode.parentNode.classList.toggle("filter__item--active")}))})),document.querySelectorAll(".filter__item--plus .filter__btn").forEach((function(e){e.addEventListener("click",(function(){e.parentNode.parentNode.classList.toggle("filter__item--active")}))}));var E=document.querySelectorAll(".tabs__item");E&&E.forEach((function(e,t){e.addEventListener("click",(function(){document.querySelectorAll(".tabs__item").forEach((function(e){return e.classList.remove("tabs__item--active")})),document.querySelectorAll(".tabs__content").forEach((function(e){return e.classList.remove("tabs__content--active")})),e.classList.add("tabs__item--active"),document.querySelectorAll(".tabs__content")[t].classList.add("tabs__content--active")}))}));var g=document.querySelectorAll(".pop-up__btn"),q=function(e,t){var c=function(c){for(var s=c.target;s&&s!==e;)s=s.parentNode;s||(t(),o())};function o(){document.documentElement.removeEventListener("click",c)}return{setBodyChecker:function(){document.documentElement.addEventListener("click",c)},removeBodyChecker:o}};g&&g.forEach((function(e){var t=function(){var t=e.getAttribute("data-text");e.nextElementSibling.classList.remove("pop-up__wrapper--active"),e.classList.remove("pop-up__btn--close"),e.innerHTML=t},c=q(e.parentNode,t);e.addEventListener("click",(function(){e.nextElementSibling.classList.contains("pop-up__wrapper--active")?t():(e.nextElementSibling.classList.add("pop-up__wrapper--active"),e.classList.add("pop-up__btn--close"),e.innerHTML="Закрыть",c.setBodyChecker())}))}));var w=document.querySelectorAll(".cabinet__item");w&&w.forEach((function(e,t){e.addEventListener("click",(function(){document.querySelectorAll(".cabinet__item").forEach((function(e){return e.classList.remove("cabinet__item--active")})),document.querySelectorAll(".cabinet__content").forEach((function(e){return e.classList.remove("cabinet__content--active")})),window.innerWidth<768&&(document.querySelector(".cabinet__list").classList.remove("cabinet__list--active"),document.querySelector(".cabinet__title--mobile").classList.remove("cabinet__title--active"),document.querySelector(".cabinet__user-info").classList.remove("cabinet__user-info--active")),e.classList.add("cabinet__item--active"),document.querySelectorAll(".cabinet__content")[t].classList.add("cabinet__content--active")}))}));var k=document.querySelectorAll(".cabinet__title");k&&k.forEach((function(e){e.addEventListener("click",(function(){window.innerWidth<768&&(document.querySelectorAll(".cabinet__item").forEach((function(e){return e.classList.remove("cabinet__item--active")})),document.querySelectorAll(".cabinet__content").forEach((function(e){return e.classList.remove("cabinet__content--active")})),document.querySelector(".cabinet__list").classList.add("cabinet__list--active"),document.querySelector(".cabinet__title--mobile").classList.add("cabinet__title--active"),document.querySelector(".cabinet__user-info").classList.add("cabinet__user-info--active"))}))})),document.querySelectorAll(".select").forEach((function(e){e.addEventListener("change",(function(t){e.classList.toggle("is-selected",!!t.target.value)}))}));var A=document.querySelectorAll(".input-group__eye");A&&A.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),"password"==e.previousElementSibling.previousElementSibling.type?e.previousElementSibling.previousElementSibling.type="text":e.previousElementSibling.previousElementSibling.type="password"}))}));var P=document.querySelectorAll(".filter__list .simplebar-content-wrapper");P&&P.forEach((function(e){e.addEventListener("scroll",(function(){e.scrollTop>0?e.parentNode.parentNode.parentNode.parentNode.parentNode.classList.remove("filter__content--hidden"):e.parentNode.parentNode.parentNode.parentNode.parentNode.classList.add("filter__content--hidden")}))}));var N=document.querySelector(".filter"),x=document.querySelector(".filter-btn"),O=document.querySelector(".filter__back");x&&x.addEventListener("click",(function(){N.classList.add("filter--active"),document.body.classList.add("scroll-disabled")})),O&&O.addEventListener("click",(function(){N.classList.remove("filter--active"),document.body.classList.remove("scroll-disabled")}));var B=document.querySelector(".mobile-sort"),Y=document.querySelector(".sort-btn"),C=document.querySelector(".mobile-sort__back");Y&&Y.addEventListener("click",(function(){B.classList.add("mobile-sort--active"),document.body.classList.add("scroll-disabled")})),C&&C.addEventListener("click",(function(){B.classList.remove("mobile-sort--active"),document.body.classList.remove("scroll-disabled")}));var D=document.querySelectorAll(".sort__selected"),M=document.querySelectorAll(".sort__option");D&&D.forEach((function(e){var t=q(e.parentNode,(function(){document.querySelectorAll(".sort__container").forEach((function(e){return e.classList.remove("sort__container--active")})),document.querySelectorAll(".sort__selected").forEach((function(e){return e.classList.remove("sort__selected--active")}))}));e.addEventListener("click",(function(){e.previousElementSibling.classList.contains("sort__container--active")?(document.querySelectorAll(".sort__container").forEach((function(e){return e.classList.remove("sort__container--active")})),document.querySelectorAll(".sort__selected").forEach((function(e){return e.classList.remove("sort__selected--active")}))):(document.querySelectorAll(".sort__container").forEach((function(e){return e.classList.remove("sort__container--active")})),document.querySelectorAll(".sort__selected").forEach((function(e){return e.classList.remove("sort__selected--active")})),e.previousElementSibling.classList.add("sort__container--active"),e.classList.add("sort__selected--active"),t.setBodyChecker())}))})),M&&M.forEach((function(e,t){e.addEventListener("click",(function(){e.parentNode.nextElementSibling.innerHTML=e.querySelector("label").innerHTML,e.parentNode.classList.remove("sort__container--active"),e.parentNode.nextElementSibling.classList.remove("sort__selected--active")}))}));var V=document.querySelectorAll(".modal-btn"),H=document.querySelectorAll(".modal"),T=document.querySelectorAll(".modal__close"),W=document.querySelector(".modal-overlay");V&&V.forEach((function(e,t){e.addEventListener("click",(function(t){t.preventDefault(),document.querySelectorAll(".modal.modal--active").forEach((function(e){return e.classList.remove("modal--active")})),W.classList.contains("modal-overlay--active")||W.classList.add("modal-overlay--active"),document.body.classList.add("scroll-disabled"),document.querySelector(".header").classList.add("header--active");var c=e.dataset.id;document.getElementById(c).classList.add("modal--active")}))})),document.body.addEventListener("keyup",(function(e){var t=e.keyCode;H&&W.classList.contains("modal-overlay--active")&&27==t&&(document.body.classList.remove("scroll-disabled"),document.querySelector(".header").classList.remove("header--active"),document.querySelectorAll(".modal.modal--active").forEach((function(e){return e.classList.remove("modal--active")})),W.classList.remove("modal-overlay--active"))}),!1),W&&W.addEventListener("click",(function(){H&&W.classList.contains("modal-overlay--active")&&(document.body.classList.remove("scroll-disabled"),document.querySelector(".header").classList.remove("header--active"),document.querySelectorAll(".modal.modal--active").forEach((function(e){return e.classList.remove("modal--active")})),W.classList.remove("modal-overlay--active")),y&&y.classList.contains("basket-modal--active")&&(y.classList.remove("basket-modal--active"),W.classList.remove("modal-overlay--active"),document.body.classList.remove("scroll-disabled")),t.classList.contains("hamburger--active")&&c.classList.contains("mobile-menu--open")&&(s.classList.contains("overlay--active")&&s.classList.remove("overlay--active"),t.classList.remove("hamburger--active"),c.classList.remove("mobile-menu--open"),document.body.classList.remove("scroll-disabled"))})),T&&T.forEach((function(e){e.addEventListener("click",(function(){document.body.classList.remove("scroll-disabled"),document.querySelector(".header").classList.remove("header--active"),document.querySelectorAll(".modal.modal--active").forEach((function(e){return e.classList.remove("modal--active")})),W.classList.remove("modal-overlay--active")}))}))}));