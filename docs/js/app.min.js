"use strict";document.addEventListener("DOMContentLoaded",(function(){Inputmask().mask(document.querySelectorAll("input"));var e=.01*window.innerHeight;function t(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}document.documentElement.style.setProperty("--vh","".concat(e,"px")),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}));var o=document.getElementById("hamburger-toggle"),c=document.querySelector(".mobile-menu"),s=document.querySelector(".mobile-menu__close"),r=document.querySelector(".overlay"),n=document.querySelectorAll(".nav__link--dropdown"),i=document.querySelector(".submenu"),a=document.querySelector(".submenu__back"),l=document.querySelectorAll(".submenu__link--dropdown"),d=document.querySelector(".subcategories"),u=document.querySelector(".subcategories__back");o&&c&&o.addEventListener("click",(function(){o.classList.contains("hamburger--active")&&c.classList.contains("mobile-menu--open")?(ce.classList.contains("modal-overlay--active")&&ce.classList.remove("modal-overlay--active"),o.classList.remove("hamburger--active"),c.classList.remove("mobile-menu--open"),document.body.classList.remove("scroll-disabled")):(ce.classList.contains("modal-overlay--active")||ce.classList.add("modal-overlay--active"),o.classList.add("hamburger--active"),c.classList.add("mobile-menu--open"),document.body.classList.add("scroll-disabled"))})),s&&c&&s.addEventListener("click",(function(){o.classList.contains("hamburger--active")&&c.classList.contains("mobile-menu--open")&&(ce.classList.contains("modal-overlay--active")&&ce.classList.remove("modal-overlay--active"),o.classList.remove("hamburger--active"),c.classList.remove("mobile-menu--open"),document.body.classList.remove("scroll-disabled"))})),r&&r.addEventListener("click",(function(){v&&v.classList.contains("search--active")&&(v.classList.remove("search--active"),r.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled"))})),n&&n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.getAttribute("data-mobile-item");e.parentNode.parentNode.parentNode.style.display="none",i.classList.add("submenu--active"),i.querySelector('.submenu__list[data-mobile-category="'+o+'"').classList.add("submenu__list--active")}))})),a&&a.addEventListener("click",(function(e){e.preventDefault(),i.previousElementSibling.style.display="block",i.classList.remove("submenu--active"),i.querySelectorAll(".submenu__list").forEach((function(e){return e.classList.remove("submenu__list--active")}))})),l&&l.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.getAttribute("data-mobile-subitem");i.classList.remove("submenu--active"),d.classList.add("subcategories--active"),d.querySelector('.subcategories__list[data-mobile-subcategory="'+o+'"').classList.add("subcategories__list--active")}))})),u&&u.addEventListener("click",(function(e){e.preventDefault(),d.classList.remove("subcategories--active"),d.querySelectorAll(".subcategories__list").forEach((function(e){return e.classList.remove("subcategories__list--active")})),i.classList.add("submenu--active")}));var m=document.querySelector(".search-btn"),v=document.querySelector(".search"),f=document.querySelector(".search__close"),p=document.querySelector(".top-promo");if(p&&v){var _=p.getBoundingClientRect().height,y=_-window.pageYOffset;window.pageYOffset<_?v.style.setProperty("top","".concat(y,"px")):v.style.setProperty("top","".concat(0,"px")),window.innerWidth<768&&(window.pageYOffset<_?v.style.setProperty("--vh","calc(100vh - ".concat(y,"px)")):v.style.setProperty("--vh","100vh"))}var L=window.pageYOffset,b=document.querySelector(".product"),h=document.querySelector(".product__gallery"),g=document.querySelector(".product__fixed"),S=0;function w(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}var E=document.querySelectorAll(".product__gallery-thumb > .product__gallery-img"),q=document.querySelectorAll(".product__gallery-main > .product__gallery-img"),x={};q.forEach((function(e,t){x[t]=e.offsetTop+b.offsetTop-100})),E.forEach((function(e,o){e.addEventListener("click",(function(c){c.preventDefault(),document.querySelectorAll(".product__gallery-thumb > .product__gallery-img").forEach((function(e){return e.classList.remove("is--active")})),e.classList.add("is--active"),function(e){var o=t(),c=e,s=c>o?c-o:o-c;if(s<100)scrollTo(0,c);else{var r=Math.round(s/100);r>=20&&(r=20);var n=Math.round(s/25),i=c>o?o+n:o-n,a=0;if(c>o)for(var l=o;l<c;l+=n)setTimeout("window.scrollTo(0, "+i+")",a*r),(i+=n)>c&&(i=c),a++;else for(var d=o;d>c;d-=n)setTimeout("window.scrollTo(0, "+i+")",a*r),(i-=n)<c&&(i=c),a++}}(x[o])}))})),window.addEventListener("scroll",(function(){if(p&&v){var e=p.getBoundingClientRect().height,t=e-window.pageYOffset;window.pageYOffset<e?v.style.setProperty("top","".concat(t,"px")):v.style.setProperty("top","".concat(0,"px")),window.innerWidth<768&&(window.pageYOffset<e?v.style.setProperty("--vh","calc(100vh - ".concat(t,"px)")):v.style.setProperty("--vh","100vh"))}if(header&&header.querySelector(".header__wrap")&&!b){var o=header.getBoundingClientRect().height,c=p?p.getBoundingClientRect().height:0,s=window.pageYOffset;L>s||L<=0?window.pageYOffset<=c?(header.querySelector(".header__wrap").style.transform="translate3d(0px, 0px, 0px)",header.querySelector(".header__wrap").style.transition="none",header.querySelector(".header__wrap").style.position="relative"):(header.querySelector(".header__wrap").style.transform="translate3d(0px, 0px, 0px)",header.querySelector(".header__wrap").style.transition="transform 0.2s ease-in-out",header.querySelector(".header__wrap").style.position="fixed"):window.pageYOffset>=o&&(header.querySelector(".header__wrap").style.transform="translate3d(0px, -100%, 0px)",header.querySelector(".header__wrap").style.transition="transform 0.2s ease-in-out",setTimeout((function(){return header.querySelector(".header__wrap").style.position="fixed"}),200)),L=s}for(var r in function(){if(b&&h&&g)if(window.innerWidth>=992){var e=window.pageYOffset;if(L>e||L<=0)g.classList.contains("product__fixed--active")&&(g.classList.remove("product__fixed--active"),g.classList.add("product__fixed--bottom"),g.style.position="relative",g.style.top="0px",g.style.transform="translate3d(0px, "+S+"px, 0px)"),window.pageYOffset<=w(g).top&&g.classList.contains("product__fixed--bottom")&&(g.classList.add("product__fixed--top"),g.style.position="fixed",g.style.top="0px",g.style.transform="translate3d(0px, 0px, 0px)"),window.pageYOffset<=b.offsetTop&&g.classList.contains("product__fixed--top")&&(g.classList.remove("product__fixed--top"),g.style.position="relative",g.style.top="0px",g.style.transform="translate3d(0px, 0px, 0px)");else if(S=w(g).top-b.offsetTop,g.classList.contains("product__fixed--top")&&(g.classList.remove("product__fixed--top"),g.style.position="relative",g.style.top="0px",g.style.transform="translate3d(0px, "+S+"px, 0px)"),window.pageYOffset>=w(g).top+g.getBoundingClientRect().height-(document.documentElement.clientHeight-Number(30))&&!g.classList.contains("product__fixed--active")&&(window.pageYOffset-b.offsetTop-Number(30)>=h.getBoundingClientRect().height-document.documentElement.clientHeight||window.pageYOffset-b.offsetTop-g.getBoundingClientRect().height+window.innerHeight-30,g.classList.add("product__fixed--active"),g.style.position="fixed",g.style.top=document.documentElement.clientHeight-Number(30)+"px",g.style.transform="translate3d(0px, -100%, 0px)"),window.pageYOffset-b.offsetTop-Number(30)>=h.getBoundingClientRect().height-document.documentElement.clientHeight){var t=b.getBoundingClientRect().height-g.getBoundingClientRect().height;g.classList.remove("product__fixed--active"),g.classList.add("product__fixed--bottom"),g.style.position="relative",g.style.top="0px",g.style.transform="translate3d(0px, "+t+"px, 0px)"}L=e}else g.style.position="relative",g.style.top="0px",g.style.transform="translate3d(0px, 0px, 0px)"}(),x)x[r]<=window.pageYOffset&&(document.querySelectorAll(".product__gallery-thumb > .product__gallery-img").forEach((function(e){return e.classList.remove("is--active")})),document.querySelectorAll(".product__gallery-thumb > .product__gallery-img")[r].classList.add("is--active"))})),window.addEventListener("resize",(function(){if(p&&v){var e=p.getBoundingClientRect().height,t=e-window.pageYOffset;window.pageYOffset<e?v.style.setProperty("top","".concat(t,"px")):v.style.setProperty("top","".concat(0,"px")),window.innerWidth<768&&(window.pageYOffset<e?v.style.setProperty("--vh","calc(100vh - ".concat(t,"px)")):v.style.setProperty("--vh","100vh"))}})),m&&m.addEventListener("click",(function(e){e.preventDefault(),v.classList.contains("search--active")?(v.classList.remove("search--active"),r.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled")):(v.classList.add("search--active"),r.classList.add("overlay--active"),document.body.classList.add("scroll-disabled"))})),f&&f.addEventListener("click",(function(){v.classList.contains("search--active")&&(v.classList.remove("search--active"),r.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled"))}));var k=document.querySelector(".basket-btn"),A=document.querySelector(".basket-modal"),N=document.querySelectorAll(".basket-modal__close");k&&k.addEventListener("click",(function(e){e.preventDefault(),A.classList.contains("basket-modal--active")?(A.classList.remove("basket-modal--active"),r.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled")):(A.classList.add("basket-modal--active"),ce.classList.add("modal-overlay--active"),document.body.classList.add("scroll-disabled"))})),N&&N.forEach((function(e){e.addEventListener("click",(function(){A.classList.contains("basket-modal--active")&&(A.classList.remove("basket-modal--active"),ce.classList.remove("modal-overlay--active"),document.body.classList.remove("scroll-disabled"))}))}));var O=document.querySelector(".request-photo__icon");O&&O.addEventListener("click",(function(e){e.preventDefault()}));var Y=document.querySelector(".top-promo"),P=document.querySelector(".top-promo__close");P&&P.addEventListener("click",(function(){if(Y.classList.add("top-promo--hidden"),p&&v){var e=p.getBoundingClientRect().height,t=e-window.pageYOffset;window.pageYOffset<e?v.style.setProperty("top","".concat(t,"px")):v.style.setProperty("top","".concat(0,"px")),window.innerWidth<768&&(window.pageYOffset<e?v.style.setProperty("--vh","calc(100vh - ".concat(t,"px)")):v.style.setProperty("--vh","100vh"))}}));var T=document.querySelector(".gallery-thumbs"),B=document.querySelector(".gallery-main"),C=new Swiper(T,{allowTouchMove:!1,slidesPerView:5,spaceBetween:5,freeMode:!0,direction:"vertical",watchSlidesVisibility:!0,watchSlidesProgress:!0});new Swiper(B,{slidesPerView:1,loop:!0,loopedSlides:5,preloadImages:!1,thumbs:{swiper:C},breakpoints:{0:{pagination:{el:".swiper-pagination",clickable:!0}}}});document.querySelectorAll(".goods__swiper").forEach((function(e){new Swiper(e.querySelector(".swiper-container"),{slidesPerView:4,loop:!0,preloadImages:!1,lazy:!0,observer:!0,observeParents:!0,breakpoints:{0:{slidesPerView:2},576:{slidesPerView:3},992:{slidesPerView:4}}})})),document.querySelectorAll(".product__trigger:not(.product__trigger--static)").forEach((function(e){e.addEventListener("click",(function(){e.parentNode.classList.toggle("product__inner--hidden")}))})),document.querySelectorAll(".footer__heading").forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".footer__list").forEach((function(e){return e.classList.remove("footer__list--open")})),e.parentNode.classList.toggle("footer__list--open")}))})),document.querySelectorAll(".filter__item:not(.filter__item--plus) .filter__btn").forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".filter__item:not(.filter__item--plus)").forEach((function(e){return e.classList.remove("filter__item--active")})),e.parentNode.parentNode.classList.toggle("filter__item--active")}))})),document.querySelectorAll(".filter__item--plus .filter__btn").forEach((function(e){e.addEventListener("click",(function(){e.parentNode.parentNode.classList.toggle("filter__item--active")}))}));var D=document.querySelector(".personal-offers__list--all"),R=document.querySelectorAll(".personal-offers__status--more"),H=document.querySelectorAll(".personal-offers__status--back");R&&R.forEach((function(e,t){e.addEventListener("click",(function(){event.preventDefault(),D.classList.add("personal-offers__list--hidden"),document.querySelectorAll(".personal-offers__offer")[t].classList.add("personal-offers__offer--active")}))})),H&&H.forEach((function(e){e.addEventListener("click",(function(){event.preventDefault(),D.classList.remove("personal-offers__list--hidden"),document.querySelectorAll(".personal-offers__offer").forEach((function(e){return e.classList.remove("personal-offers__offer--active")}))}))}));var M=document.querySelectorAll(".tabs__item");M&&M.forEach((function(e,t){e.addEventListener("click",(function(){document.querySelectorAll(".tabs__item").forEach((function(e){return e.classList.remove("tabs__item--active")})),document.querySelectorAll(".tabs__content").forEach((function(e){return e.classList.remove("tabs__content--active")})),e.classList.add("tabs__item--active"),document.querySelectorAll(".tabs__content")[t].classList.add("tabs__content--active")}))}));var V=document.querySelectorAll(".pop-up__btn"),W=function(e,t){var o=function(o){for(var s=o.target;s&&s!==e;)s=s.parentNode;s||(t(),c())};function c(){document.documentElement.removeEventListener("click",o)}return{setBodyChecker:function(){document.documentElement.addEventListener("click",o)},removeBodyChecker:c}};V&&V.forEach((function(e){var t=function(){var t=e.getAttribute("data-text");e.nextElementSibling.classList.remove("pop-up__wrapper--active"),e.classList.remove("pop-up__btn--close"),e.innerHTML=t},o=W(e.parentNode,t);e.addEventListener("click",(function(){e.nextElementSibling.classList.contains("pop-up__wrapper--active")?t():(e.nextElementSibling.classList.add("pop-up__wrapper--active"),e.classList.add("pop-up__btn--close"),e.innerHTML="Закрыть",o.setBodyChecker())}))}));var I=document.querySelectorAll(".cabinet__item");I&&I.forEach((function(e,t){e.addEventListener("click",(function(){document.querySelectorAll(".cabinet__item").forEach((function(e){return e.classList.remove("cabinet__item--active")})),document.querySelectorAll(".cabinet__content").forEach((function(e){return e.classList.remove("cabinet__content--active")})),window.innerWidth<768&&(document.querySelector(".cabinet__list").classList.remove("cabinet__list--active"),document.querySelector(".cabinet__title--mobile").classList.remove("cabinet__title--active"),document.querySelector(".cabinet__user-info").classList.remove("cabinet__user-info--active")),e.classList.add("cabinet__item--active"),document.querySelectorAll(".cabinet__content")[t].classList.add("cabinet__content--active")}))}));var z=document.querySelectorAll(".cabinet__title");z&&z.forEach((function(e){e.addEventListener("click",(function(){window.innerWidth<768&&(document.querySelectorAll(".cabinet__item").forEach((function(e){return e.classList.remove("cabinet__item--active")})),document.querySelectorAll(".cabinet__content").forEach((function(e){return e.classList.remove("cabinet__content--active")})),document.querySelector(".cabinet__list").classList.add("cabinet__list--active"),document.querySelector(".cabinet__title--mobile").classList.add("cabinet__title--active"),document.querySelector(".cabinet__user-info").classList.add("cabinet__user-info--active"))}))})),document.querySelectorAll(".select").forEach((function(e){e.addEventListener("change",(function(t){e.classList.toggle("is-selected",!!t.target.value)}))}));var X=document.querySelectorAll(".input-group__eye");X&&X.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),"password"==e.previousElementSibling.previousElementSibling.type?e.previousElementSibling.previousElementSibling.type="text":e.previousElementSibling.previousElementSibling.type="password"}))}));var j=document.querySelectorAll(".filter__list .simplebar-content-wrapper");j&&j.forEach((function(e){e.addEventListener("scroll",(function(){e.scrollTop>0?e.parentNode.parentNode.parentNode.parentNode.parentNode.classList.remove("filter__content--hidden"):e.parentNode.parentNode.parentNode.parentNode.parentNode.classList.add("filter__content--hidden")}))}));var F=document.querySelector(".filter"),G=document.querySelector(".filter-btn"),J=document.querySelector(".filter__back");G&&G.addEventListener("click",(function(){F.classList.add("filter--active"),document.body.classList.add("scroll-disabled")})),J&&J.addEventListener("click",(function(){F.classList.remove("filter--active"),document.body.classList.remove("scroll-disabled")}));var K=document.querySelector(".mobile-sort"),Q=document.querySelector(".sort-btn"),U=document.querySelector(".mobile-sort__back");Q&&Q.addEventListener("click",(function(){K.classList.add("mobile-sort--active"),document.body.classList.add("scroll-disabled")})),U&&U.addEventListener("click",(function(){K.classList.remove("mobile-sort--active"),document.body.classList.remove("scroll-disabled")}));var Z=document.querySelectorAll(".sort__selected"),$=document.querySelectorAll(".sort__option");Z&&Z.forEach((function(e){var t=W(e.parentNode,(function(){document.querySelectorAll(".sort__container").forEach((function(e){return e.classList.remove("sort__container--active")})),document.querySelectorAll(".sort__selected").forEach((function(e){return e.classList.remove("sort__selected--active")}))}));e.addEventListener("click",(function(){e.previousElementSibling.classList.contains("sort__container--active")?(document.querySelectorAll(".sort__container").forEach((function(e){return e.classList.remove("sort__container--active")})),document.querySelectorAll(".sort__selected").forEach((function(e){return e.classList.remove("sort__selected--active")}))):(document.querySelectorAll(".sort__container").forEach((function(e){return e.classList.remove("sort__container--active")})),document.querySelectorAll(".sort__selected").forEach((function(e){return e.classList.remove("sort__selected--active")})),e.previousElementSibling.classList.add("sort__container--active"),e.classList.add("sort__selected--active"),t.setBodyChecker())}))})),$&&$.forEach((function(e,t){e.addEventListener("click",(function(){e.parentNode.nextElementSibling.innerHTML=e.querySelector("label").innerHTML,e.parentNode.classList.remove("sort__container--active"),e.parentNode.nextElementSibling.classList.remove("sort__selected--active")}))}));var ee=document.querySelectorAll(".modal-btn"),te=document.querySelectorAll(".modal"),oe=document.querySelectorAll(".modal__close"),ce=document.querySelector(".modal-overlay");ee&&ee.forEach((function(e,t){e.addEventListener("click",(function(t){t.preventDefault(),document.querySelectorAll(".modal.modal--active").forEach((function(e){return e.classList.remove("modal--active")})),ce.classList.contains("modal-overlay--active")||ce.classList.add("modal-overlay--active"),document.body.classList.add("scroll-disabled"),document.querySelector(".header").classList.add("header--active");var o=e.dataset.id;document.getElementById(o).classList.add("modal--active")}))})),document.body.addEventListener("keyup",(function(e){var t=e.keyCode;te&&ce.classList.contains("modal-overlay--active")&&27==t&&(document.body.classList.remove("scroll-disabled"),document.querySelector(".header").classList.remove("header--active"),document.querySelectorAll(".modal.modal--active").forEach((function(e){return e.classList.remove("modal--active")})),ce.classList.remove("modal-overlay--active"))}),!1),ce&&ce.addEventListener("click",(function(){te&&ce.classList.contains("modal-overlay--active")&&(document.body.classList.remove("scroll-disabled"),document.querySelector(".header").classList.remove("header--active"),document.querySelectorAll(".modal.modal--active").forEach((function(e){return e.classList.remove("modal--active")})),ce.classList.remove("modal-overlay--active")),A&&A.classList.contains("basket-modal--active")&&(A.classList.remove("basket-modal--active"),ce.classList.remove("modal-overlay--active"),document.body.classList.remove("scroll-disabled")),o.classList.contains("hamburger--active")&&c.classList.contains("mobile-menu--open")&&(r.classList.contains("overlay--active")&&r.classList.remove("overlay--active"),o.classList.remove("hamburger--active"),c.classList.remove("mobile-menu--open"),document.body.classList.remove("scroll-disabled"))})),oe&&oe.forEach((function(e){e.addEventListener("click",(function(){document.body.classList.remove("scroll-disabled"),document.querySelector(".header").classList.remove("header--active"),document.querySelectorAll(".modal.modal--active").forEach((function(e){return e.classList.remove("modal--active")})),ce.classList.remove("modal-overlay--active")}))}))}));